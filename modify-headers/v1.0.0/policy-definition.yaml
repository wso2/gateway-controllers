name: ModifyHeaders
version: v1.0.0
description: |
  Comprehensive header manipulation policy for both request and response flows.
  Supports SET (replace), APPEND (add), and DELETE (remove) operations on headers.
  Can modify request headers before forwarding to upstream and response headers before returning to client.

parameters:
  type: object
  properties:
    requestHeaders:
      type: array
      description: Array of header modifications to apply during request phase. At least
        one of requestHeaders or responseHeaders must be specified.
      items:
        type: object
        properties:
          action:
            type: string
            description: Action to perform on the header
            enum:
            - SET
            - APPEND
            - DELETE
          name:
            type: string
            description: Header name (case-insensitive)
            minLength: 1
            maxLength: 256
            pattern: "^[a-zA-Z0-9-_]+$"
          value:
            type: string
            description: Header value (required for SET and APPEND, ignored for DELETE)
            maxLength: 8192
        required:
        - action
        - name
    responseHeaders:
      type: array
      description: Array of header modifications to apply during response phase. At
        least one of requestHeaders or responseHeaders must be specified.
      items:
        type: object
        properties:
          action:
            type: string
            description: Action to perform on the header
            enum:
            - SET
            - APPEND
            - DELETE
          name:
            type: string
            description: Header name (case-insensitive)
            minLength: 1
            maxLength: 256
            pattern: "^[a-zA-Z0-9-_]+$"
          value:
            type: string
            description: Header value (required for SET and APPEND, ignored for DELETE)
            maxLength: 8192
        required:
        - action
        - name

systemParameters:
  type: object
  properties: {}
